{
  "name": "ChatInterface",
  "layer": "composer",
  "anatomy": [
    "container",
    "header", 
    "title",
    "subtitle",
    "contextSection",
    "scrollArea",
    "messagesList",
    "emptyState",
    "message",
    "messageAvatar",
    "messageBubble",
    "suggestionsContainer",
    "footer"
  ],
  "variants": {
    "messageType": ["user", "assistant", "error"]
  },
  "states": ["loading", "empty", "hasMessages", "hasContext"],
  "slots": {
    "header": {
      "required": true,
      "description": "Chat interface header with title and context"
    },
    "messages": {
      "required": false,
      "description": "List of chat messages"
    },
    "footer": {
      "required": true,
      "description": "Chat input area"
    }
  },
  "a11y": {
    "role": "region",
    "labeling": ["aria-label", "aria-labelledby"],
    "keyboard": [
      {
        "key": "Tab",
        "when": "any focusable element",
        "then": "navigate between interactive elements"
      },
      {
        "key": "Enter",
        "when": "input focused",
        "then": "send message"
      },
      {
        "key": "Escape",
        "when": "input focused",
        "then": "clear input"
      }
    ],
    "apgPattern": "dialog",
    "liveRegion": true,
    "description": "Chat interface with message history and input. Messages are announced as they arrive."
  },
  "tokens": {
    "container": [
      "chatInterface.container.background",
      "chatInterface.container.border",
      "chatInterface.container.borderRadius",
      "chatInterface.container.shadow"
    ],
    "header": [
      "chatInterface.header.padding",
      "chatInterface.header.borderBottom"
    ],
    "message": [
      "chatInterface.message.gap",
      "chatInterface.messageAvatar.width",
      "chatInterface.messageBubble.borderRadius"
    ]
  },
  "ssr": {
    "hydrateOn": "interaction"
  },
  "rtl": {
    "flipIcon": false,
    "flipLayout": true
  }
}
